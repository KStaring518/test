import{d as v,r as c,l as x,c as N,a as o,w as a,b as n,m as w,h as f,f as y,E as g,u as R,e as M}from"./index-jh95nJwH.js";import{a as k,_ as C}from"./_plugin-vue_export-helper-BDJoutlP.js";const P={class:"merchant-register-container"},D=v({__name:"MerchantRegister",setup(L){const h=R(),m=c(),i=c(!1),t=x({shopName:"",shopDescription:"",contactPhone:"",businessLicense:""}),_={shopName:[{required:!0,message:"请输入店铺名称",trigger:"blur"},{max:100,message:"店铺名称长度不能超过100个字符",trigger:"blur"}],contactPhone:[{required:!0,message:"请输入联系电话",trigger:"blur"},{max:20,message:"联系电话长度不能超过20个字符",trigger:"blur"}]},p=async()=>{if(m.value)try{await m.value.validate(),i.value=!0,await k.post("/auth/merchant/register",t),g.success("商家申请提交成功，请等待管理员审核"),h.push("/")}catch(r){console.error("商家注册失败:",r);const e=r.response?.data?.message||r.message||"申请提交失败";g.error(e)}finally{i.value=!1}};return(r,e)=>{const u=n("el-input"),s=n("el-form-item"),d=n("el-button"),b=n("el-form"),V=n("el-card");return M(),N("div",P,[o(V,{class:"merchant-register-card"},{header:a(()=>[...e[5]||(e[5]=[y("h2",null,"商家注册申请",-1)])]),default:a(()=>[o(b,{ref_key:"merchantFormRef",ref:m,model:t,rules:_,"label-width":"100px",onSubmit:w(p,["prevent"])},{default:a(()=>[o(s,{label:"店铺名称",prop:"shopName"},{default:a(()=>[o(u,{modelValue:t.shopName,"onUpdate:modelValue":e[0]||(e[0]=l=>t.shopName=l),placeholder:"请输入店铺名称",clearable:""},null,8,["modelValue"])]),_:1}),o(s,{label:"店铺描述",prop:"shopDescription"},{default:a(()=>[o(u,{modelValue:t.shopDescription,"onUpdate:modelValue":e[1]||(e[1]=l=>t.shopDescription=l),type:"textarea",rows:3,placeholder:"请描述您的店铺特色和经营范围",clearable:""},null,8,["modelValue"])]),_:1}),o(s,{label:"联系电话",prop:"contactPhone"},{default:a(()=>[o(u,{modelValue:t.contactPhone,"onUpdate:modelValue":e[2]||(e[2]=l=>t.contactPhone=l),placeholder:"请输入联系电话",clearable:""},null,8,["modelValue"])]),_:1}),o(s,{label:"营业执照",prop:"businessLicense"},{default:a(()=>[o(u,{modelValue:t.businessLicense,"onUpdate:modelValue":e[3]||(e[3]=l=>t.businessLicense=l),placeholder:"请输入营业执照号（选填）",clearable:""},null,8,["modelValue"])]),_:1}),o(s,null,{default:a(()=>[o(d,{type:"primary",onClick:p,loading:i.value},{default:a(()=>[...e[6]||(e[6]=[f(" 提交申请 ",-1)])]),_:1},8,["loading"]),o(d,{onClick:e[4]||(e[4]=l=>r.$router.push("/"))},{default:a(()=>[...e[7]||(e[7]=[f(" 返回首页 ",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}}),E=C(D,[["__scopeId","data-v-c316b460"]]);export{E as default};
