import{u as $}from"./user-TGyX2SHZ.js";import{g as C,a as V,b as B,c as I}from"./admin-DpVAbB1S.js";import{i as g}from"./index-OzhOYD-U.js";import{d as M,r as S,o as T,c as D,a as s,w as e,b as r,f as n,h as d,t as y,e as E}from"./index-jh95nJwH.js";import{_ as G}from"./_plugin-vue_export-helper-BDJoutlP.js";const O={class:"admin-page"},N={class:"header-content"},U={class:"kpi"},c={class:"num"},z={class:"kpi"},P={class:"num"},j={class:"kpi"},q={class:"num"},F={class:"kpi"},H={class:"num"},J=M({__name:"AdminDashboard",setup(K){const x=$(),m=S(null),b=async()=>{try{const{data:o}=await B();m.value=o}catch{}},A=async()=>{const o=document.getElementById("admin-trend");if(!o)return;const t=g(o),{data:a}=await I(7),i={tooltip:{trigger:"axis"},legend:{data:["GMV","订单数"]},xAxis:{type:"category",data:a.labels},yAxis:[{type:"value",name:"GMV"},{type:"value",name:"订单数"}],series:[{name:"GMV",type:"line",data:a.gmv,yAxisIndex:0,smooth:!0},{name:"订单数",type:"line",data:a.orders,yAxisIndex:1,smooth:!0}]};t.setOption(i)};return T(async()=>{x.initUser(),await b(),await A();const o=document.getElementById("admin-status");if(o){const a=g(o),{data:i}=await C();a.setOption({tooltip:{trigger:"item"},legend:{bottom:0},series:[{name:"状态占比",type:"pie",radius:"60%",data:i.labels.map((v,l)=>({name:v,value:i.values[l]}))}]})}const t=document.getElementById("admin-category-top");if(t){const a=g(t),{data:i}=await V();a.setOption({tooltip:{trigger:"axis"},xAxis:{type:"category",data:i.labels},yAxis:{type:"value"},series:[{name:"销售额",type:"bar",data:i.values}]})}}),(o,t)=>{const a=r("el-menu-item"),i=r("el-menu"),v=r("el-header"),l=r("el-card"),u=r("el-col"),_=r("el-row"),p=r("el-button"),k=r("el-space"),w=r("el-main");return E(),D("div",O,[s(v,{class:"header"},{default:e(()=>[n("div",N,[t[12]||(t[12]=n("div",{class:"logo"},[n("h2",null,"管理后台")],-1)),s(i,{mode:"horizontal",router:!0,class:"nav-menu"},{default:e(()=>[s(a,{index:"/"},{default:e(()=>[...t[5]||(t[5]=[d("首页",-1)])]),_:1}),s(a,{index:"/admin"},{default:e(()=>[...t[6]||(t[6]=[d("仪表盘",-1)])]),_:1}),s(a,{index:"/admin/users"},{default:e(()=>[...t[7]||(t[7]=[d("用户管理",-1)])]),_:1}),s(a,{index:"/admin/merchants"},{default:e(()=>[...t[8]||(t[8]=[d("商家管理",-1)])]),_:1}),s(a,{index:"/admin/products"},{default:e(()=>[...t[9]||(t[9]=[d("分类管理",-1)])]),_:1}),s(a,{index:"/admin/orders"},{default:e(()=>[...t[10]||(t[10]=[d("订单概览",-1)])]),_:1}),s(a,{index:"/admin/system"},{default:e(()=>[...t[11]||(t[11]=[d("系统统计",-1)])]),_:1})]),_:1})])]),_:1}),s(w,{class:"main-content"},{default:e(()=>[s(_,{gutter:16,class:"cards"},{default:e(()=>[s(u,{span:6},{default:e(()=>[s(l,null,{default:e(()=>[n("div",U,[n("div",c,y(m.value?.totalUsers||0),1),t[13]||(t[13]=n("div",{class:"label"},"用户数",-1))])]),_:1})]),_:1}),s(u,{span:6},{default:e(()=>[s(l,null,{default:e(()=>[n("div",z,[n("div",P,y(m.value?.totalMerchants||0),1),t[14]||(t[14]=n("div",{class:"label"},"商家数",-1))])]),_:1})]),_:1}),s(u,{span:6},{default:e(()=>[s(l,null,{default:e(()=>[n("div",j,[n("div",q,y(m.value?.totalProducts||0),1),t[15]||(t[15]=n("div",{class:"label"},"商品数",-1))])]),_:1})]),_:1}),s(u,{span:6},{default:e(()=>[s(l,null,{default:e(()=>[n("div",F,[n("div",H,y(m.value?.totalOrders||0),1),t[16]||(t[16]=n("div",{class:"label"},"订单数",-1))])]),_:1})]),_:1})]),_:1}),s(l,{style:{"margin-top":"16px"}},{header:e(()=>[...t[17]||(t[17]=[n("div",{class:"card-header"},"最近7天 GMV / 订单数",-1)])]),default:e(()=>[t[18]||(t[18]=n("div",{id:"admin-trend",style:{height:"320px"}},null,-1))]),_:1}),s(_,{gutter:16,style:{"margin-top":"16px"}},{default:e(()=>[s(u,{span:12},{default:e(()=>[s(l,null,{header:e(()=>[...t[19]||(t[19]=[n("div",{class:"card-header"},"订单状态占比",-1)])]),default:e(()=>[t[20]||(t[20]=n("div",{id:"admin-status",style:{height:"300px"}},null,-1))]),_:1})]),_:1}),s(u,{span:12},{default:e(()=>[s(l,null,{header:e(()=>[...t[21]||(t[21]=[n("div",{class:"card-header"},"分类销售Top5",-1)])]),default:e(()=>[t[22]||(t[22]=n("div",{id:"admin-category-top",style:{height:"300px"}},null,-1))]),_:1})]),_:1})]),_:1}),s(l,{style:{"margin-top":"16px"}},{header:e(()=>[...t[23]||(t[23]=[n("div",{class:"card-header"},"快速操作",-1)])]),default:e(()=>[s(k,{wrap:""},{default:e(()=>[s(p,{type:"primary",onClick:t[0]||(t[0]=f=>o.$router.push("/admin/users"))},{default:e(()=>[...t[24]||(t[24]=[d("用户管理",-1)])]),_:1}),s(p,{type:"primary",onClick:t[1]||(t[1]=f=>o.$router.push("/admin/merchants"))},{default:e(()=>[...t[25]||(t[25]=[d("商家管理",-1)])]),_:1}),s(p,{type:"primary",onClick:t[2]||(t[2]=f=>o.$router.push("/admin/products"))},{default:e(()=>[...t[26]||(t[26]=[d("分类管理",-1)])]),_:1}),s(p,{type:"primary",onClick:t[3]||(t[3]=f=>o.$router.push("/admin/orders"))},{default:e(()=>[...t[27]||(t[27]=[d("订单概览",-1)])]),_:1}),s(p,{type:"primary",onClick:t[4]||(t[4]=f=>o.$router.push("/admin/banners"))},{default:e(()=>[...t[28]||(t[28]=[d("轮播管理",-1)])]),_:1})]),_:1})]),_:1})]),_:1})])}}}),Y=G(J,[["__scopeId","data-v-08e45a88"]]);export{Y as default};
