import{g as i,a as c}from"./_plugin-vue_export-helper-BDJoutlP.js";const h=e=>{if(!e)return"";let t=String(e).trim();if(/^https?:\/\//i.test(t)){try{const p=i(),s=new URL(p),o=`${s.protocol}//${s.host}`,n=(s.pathname||"").replace(/\/$/,""),a=new URL(t);if(a.origin===o&&n&&!a.pathname.startsWith(n+"/")&&a.pathname.startsWith("/uploads/"))return o+n+a.pathname+a.search+a.hash}catch{}return t}t=t.replace(/^\/api\//,"/").replace(/\\/g,"/").replace(/\/+/,"/").trim();const r=i();return t.startsWith("/uploads/")?`${r}${t}`:t.startsWith("uploads/")?`${r}/${t}`:`${r}${t.startsWith("/")?"":"/"}${t}`},l=e=>{if(!e)return"";let t=String(e).trim();if(/^https?:\/\//i.test(t)){try{const p=i(),s=new URL(p),o=`${s.protocol}//${s.host}`,n=(s.pathname||"").replace(/\/$/,""),a=new URL(t);if(a.origin===o&&n&&!a.pathname.startsWith(n+"/")&&a.pathname.startsWith("/uploads/"))return o+n+a.pathname+a.search+a.hash}catch{}return t}t=t.replace(/^\/api\//,"/").replace(/\\/g,"/").replace(/\/+/,"/");const r=i();return t.startsWith("/uploads/")?`${r}${t}`:t.startsWith("uploads/")?`${r}/${t}`:t.includes("/")?`${r}${t.startsWith("/")?"":"/"}${t}`:`${r}/uploads/products/${t}`},m=(e,t)=>{const r=new FormData;return r.append("file",e),t&&r.append("productId",t.toString()),c.post("/upload/product-image",r,{headers:{"Content-Type":"multipart/form-data"}})};export{l as a,h as n,m as u};
